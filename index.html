<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <section>
        <div class="container">
            <div class="userBox">

                <div><input type="text" id="value" placeholder="Capacity in Watt"><span class="cross">&#10008;</span>
                </div>
                <button id="submit">Submit</button>
            </div>

            <div class="result">
                <div class="box1">Transformer <span class="b1"></span></div>
                <div class="box2">Transformer Less <span class="b2"></span></div>
            </div>

            <div class="battery">
                <select id="hours" name="hours">
                    <option value="">Select Hour</option>
                    <option value="1">01</option>
                    <option value="2">02</option>
                    <option value="3">03</option>
                    <option value="4">04</option>
                    <option value="5">05</option>
                    <option value="6">06</option>
                    <option value="7">07</option>
                    <option value="8">08</option>
                    <option value="9">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>
            </div>
            <div class="result">
                <div class="box1">Lead <span class="lead"></span></div>
                <div class="box2">Lithium<span class="lithium"></span></div>
            </div>
        </div>


    </section>
</body>
<script>

    const data =
    {
        "1000": 1,
        "1500": 1.5,
        "2000": 2,
        "3000": 3,
        "3500": 3.5,
        "5000": 5,
        "6000": 6,
        "7500": 7.5,
        "10000": 10,
        "12500": 12.5,
        "15000": 15,
        "20000": 20,
        "30000": 30,
        "40000": 40,
        "50000": 50,
        "60000": 60,
        "70000": 70,
        "80000": 80,
        "90000": 90,
        "100000": 100,
        "120000": 120,
        "125000": 125,
        "150000": 150,
        "200000": 200,
        "250000": 250,
        "300000": 300
    }
    const batteryData = {
        500: [
            "100Ah",
            "60Ah~12v"
        ],
        700: [
            "150Ah",
            "80Ah~12v"
        ],
        800: [
            "180Ah",
            "100Ah~12v"
        ],
        900: [
            "200Ah",
            "120Ah~12v"
        ],
        1000: [
            "200Ah",
            "120Ah~12v"
        ],
        1200: [
            "120Ah X 2 or 250Ah",
            "150Ah~12v"
        ],
        1300: [
            "150Ah X 2 or 300Ah",
            "180Ah~12v"
        ],
        1500: [
            "180 Ah X 2",
            "80Ah~24V"
        ],
        2000: [
            "200Ah x 2",
            "100Ah~24v"
        ],
        2500: [
            "150Ah X 4",
            "120Ah~24v"
        ],
        3000: [
            "180Ah X 4",
            "150Ah~24v"
        ],
        4000: [
            "200Ah X 4",
            "100Ah~48v"
        ],
        5000: [
            "250Ah x 4",
            "120Ah~48v"
        ],
        6000: [
            "180Ah X 8",
            "150Ah~48v"
        ],
        7000: [
            "150Ah X 10",
            "180Ah~48v"
        ],
        8000: [
            "200Ah X 8",
            "180Ah~48v"
        ],
        9000: [
            "200Ah X 10",
            "100Ah~96v"
        ],
        10000: [
            "200Ah x 10",
            "250Ah~48v"
        ],
        11000: [
            "180Ah X 15",
            "300Ah~48v"
        ],
        12000: [
            "180Ah X 15",
            "300Ah~48v"
        ],
        13000: [
            "200Ah X 15",
            "15Kw"
        ],
        14000: [
            "200Ah X 15",
            "16Kw"
        ],
        15000: [
            "220Ah X 15",
            "18Kw"
        ],
        16000: [
            "180Ah X 20",
            "20Kw"
        ],
        17000: [
            "180Ah X 20",
            "20Kw"
        ],
        18000: [
            "200Ah X 20",
            "22Kw"
        ],
        19000: [
            "200Ah X 20",
            "22Kw"
        ],
        20000: [
            "220Ah x 20",
            "25Kw"
        ]
    }





    const selectElement = document.getElementById('hours');
    const userInput = document.getElementById("value");
    const submit = document.getElementById("submit");
    const cross = document.querySelector(".cross");
    const box1 = document.querySelector(".b1");
    const box2 = document.querySelector(".b2");
    const leadBox = document.querySelector(".lead")
    const lithiumBox = document.querySelector(".lithium")




document.addEventListener("DOMContentLoaded",()=>{
    submit.addEventListener('click', submitVal);
    cross.addEventListener('click', (e) => {
        userInput.value = ""
    })
    selectElement.addEventListener('change',selectVal);
})

function submitVal(e){
    const val = parseInt(userInput.value);

if (isNaN(val) || val <= 0) {
    alert(`Enter Valid number`)
}
else {
    const x = ((val / 100) * 10) + val;
    const res = ((x / 100) * 15) + x;
    // console.log(x);
    // console.log(res)

    for (const key in data) {
        if (key == res) {
            const element = `${data[key]}kva`;
            box1.textContent = `${element}`
            break;
        }
        if (key > res) {
            const element = `${data[key]}kva`;
            box1.textContent = `${element}`
            break;
        }

    }

    for (const key in data) {
        if (key == x) {
            const element = `${data[key]}kva`;
            box2.textContent = `${element}`
            break;
        }
        if (key > x) {
            const element = `${data[key]}kva`;
            box2.textContent = `${element}`
            break;
        }

    }
    //    userInput.value=""     
}
}
function selectVal(e) {
        const selectedValue = this.value;
        const result = (userInput.value) * selectedValue;
        const keys = Object.keys(batteryData);
        const lastKey = keys[keys.length - 1];
        if (selectElement.value != "") {
            const result = (userInput.value) * selectedValue;
            for (const key in batteryData) {
                if (key == result) {
                    const values = batteryData[key];
                    leadBox.textContent = `${values[0]}`
                    lithiumBox.textContent = `${values[1]}`
                    break;
                }
                if (key > result) {
                    const values = batteryData[key];
                    leadBox.textContent = `${values[0]}`
                    lithiumBox.textContent = `${values[1]}`
                    break;
                }
                if(lastKey<result){
                    leadBox.textContent = `Not Available`
                    lithiumBox.textContent = `Not Available`
                }
            }

        }
    }


    selectElement.value = "";
    userInput.value = ""


</script>

</html>